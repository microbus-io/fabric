package {{ .ShortPackage }}

import (
	"testing"

	"github.com/stretchr/testify/assert"

	"{{ .Package }}/{{ .ShortPackage }}api"
)

var (
	_ testing.T
	_ assert.TestingT
	_ {{ .ShortPackage }}api.Client
)

// Initialize starts up the testing app.
func Initialize() error {
	// Include all downstream microservices in the app
	// and initialize them with appropriate config values
	App.Include(
		Configurator,
		Svc.With(),
	)

	err = App.Startup() // DO NOT REMOVE
	if err != nil {
		return err
	}

	// You may call the microservices after the app is started,
	// for example to populate data shared among all tests

	return nil
}

// Terminate shuts down the testing app.
func Terminate() error {
	err = App.Shutdown() // DO NOT REMOVE
	if err != nil {
		return err
	}

	return nil
}
