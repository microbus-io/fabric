package {{ .PackageSuffix }}

import (
	"testing"

	"github.com/stretchr/testify/assert"

	"{{ .Package }}/{{ .PackageSuffix }}api"
)

var (
	_ *testing.T
	_ assert.TestingT
	_ *{{ .PackageSuffix }}api.Client
)

// Initialize starts up the testing app.
func Initialize() error {
    // TO{{/**/}}DO: Initialize testing app
	
	// Include all downstream microservices in the testing app.
	// Use .With(options) to initialize microservices with appropriate config values.
	// Mockable versions of downstream microservices are automatically added. Comment them out if unneeded.
	App.Include(
		Configurator,
		Svc.With(),
	)

	err := App.Startup()
	if err != nil {
		return err
	}

	// You may call any of the microservices after the app is started,
	// for example to populate data shared among all tests.

	return nil
}

// Terminate shuts down the testing app.
func Terminate() error {
	err := App.Shutdown()
	if err != nil {
		return err
	}
	return nil
}
